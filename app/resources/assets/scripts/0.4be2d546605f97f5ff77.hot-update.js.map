{"version":3,"sources":["webpack:///./app/blocks/slider/slider.js?3294"],"names":["moveSlider","slider","document","getElementsByClassName","thumb","sliderBox","getBoundingClientRect","console","log","sliderElements","steps","prev","Array","prototype","forEach","call","el","push","offsetWidth","length","style","left","Math","floor","addEventListener","eventDown","preventDefault","thumbBox","deltaX","targetTouches","clientX","moveThumb","eventMove","target","className","targetX","pageX","width","right","ceil","stopThumb","eventUp","removeEventListener","pos","changedTouches","stop","_","i","curr","next","passive"],"mappings":";;;;;;;AAAA,UAASA,UAAT,GAAsB;AACrB,MAAMC,SAASC,SAASC,sBAAT,CAAgC,QAAhC,EAA0C,CAA1C,CAAf;AACA,MAAMC,QAAQF,SAASC,sBAAT,CAAgC,eAAhC,EAAiD,CAAjD,CAAd;AACA,MAAME,YAAYJ,OAAOK,qBAAP,EAAlB;AACAC,UAAQC,GAAR,CAAYH,SAAZ;AACA,MAAMI,iBAAiBP,SAASC,sBAAT,CAAgC,cAAhC,CAAvB;AACA,MAAMO,QAAQ,EAAd;AACA,MAAIC,OAAO,CAAX;AACAC,QAAMC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BN,cAA7B,EAA6C,UAAUO,EAAV,EAAc;AAC1DN,SAAMO,IAAN,CAAWN,IAAX;AACAA,WAAQK,GAAGE,WAAX;AACA,GAHD;AAIAR,QAAMA,MAAMS,MAAN,GAAe,CAArB,IAA0BlB,OAAOiB,WAAjC;AACAX,UAAQC,GAAR,CAAYE,KAAZ;AACAN,QAAMgB,KAAN,CAAYC,IAAZ,GAAmBX,MAAM,CAAN,IAAWY,KAAKC,KAAL,CAAWnB,MAAMc,WAAN,GAAoB,CAA/B,CAAX,GAA+C,IAAlE;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDAd,QAAMoB,gBAAN,CAAuB,YAAvB,EAAqC,UAAUC,SAAV,EAAqB;AACzDA,aAAUC,cAAV;AACA,OAAMC,WAAWvB,MAAME,qBAAN,EAAjB;AACA,OAAMsB,SAASH,UAAUI,aAAV,CAAwB,CAAxB,EAA2BC,OAA3B,GAAqCH,SAASN,IAA7D;AACA,YAASU,SAAT,CAAmBC,SAAnB,EAA8B;AAC7B,QAAIA,UAAUC,MAAV,CAAiBC,SAAjB,KAA+B,eAAnC,EAAoD;AACnD,SAAMC,UAAUH,UAAUH,aAAV,CAAwB,CAAxB,EAA2BO,KAA3C;AACA,SAAID,UAAUP,MAAV,GAAmBvB,UAAUgB,IAAV,GAAiBM,SAASU,KAAT,GAAiB,CAAzD,EAA4D;AAC3DjC,YAAMgB,KAAN,CAAYC,IAAZ,GAAmB,IAAIC,KAAKC,KAAL,CAAWI,SAASU,KAAT,GAAiB,CAA5B,CAAJ,GAAqC,IAAxD;AACA,MAFD,MAGK,IAAIF,UAAUR,SAASU,KAAT,GAAiB,CAA3B,GAA+BT,MAA/B,GAAwCvB,UAAUiC,KAAtD,EAA6D;AACjElC,YAAMgB,KAAN,CAAYC,IAAZ,GAAmBhB,UAAUgC,KAAV,GAAkBf,KAAKiB,IAAL,CAAUZ,SAASU,KAAT,GAAiB,CAA3B,CAAlB,GAAkD,IAArE;AACA,MAFI,MAGA;AACJjC,YAAMgB,KAAN,CAAYC,IAAZ,GAAmBc,UAAU9B,UAAUgB,IAApB,GAA2BO,MAA3B,GAAoC,IAAvD;AACA;AACD;AACD;AACD1B,YAASsB,gBAAT,CAA0B,WAA1B,EAAuCO,SAAvC,EAAkD,KAAlD;AACA,YAASS,SAAT,CAAmBC,OAAnB,EAA4B;AAC3B,QAAIA,QAAQR,MAAR,CAAeC,SAAf,KAA6B,eAAjC,EAAkD;AACjDhC,cAASwC,mBAAT,CAA6B,WAA7B,EAA0CX,SAA1C;AACAxB,aAAQC,GAAR,CAAYiC,OAAZ;AACA,SAAME,MAAMF,QAAQG,cAAR,CAAuB,CAAvB,EAA0BR,KAA1B,GAAkC/B,UAAUgB,IAAxD;AACAd,aAAQC,GAAR,CAAY,SAASmC,GAArB;AACA,SAAIA,MAAM,CAAV,EAAa;AACZvC,YAAMgB,KAAN,CAAYC,IAAZ,GAAmB,IAAIC,KAAKC,KAAL,CAAWI,SAASU,KAAT,GAAiB,CAA5B,CAAJ,GAAqC,IAAxD;AACA,MAFD,MAGK,IAAIM,MAAMtC,UAAUgC,KAApB,EAA2B;AAC/BjC,YAAMgB,KAAN,CAAYC,IAAZ,GAAmBhB,UAAUgC,KAAV,GAAkBf,KAAKiB,IAAL,CAAUZ,SAASU,KAAT,GAAiB,CAA3B,CAAlB,GAAkD,IAArE;AACA,MAFI,MAGA;AACJ,UAAIQ,OAAO,CAAX;AACAnC,YAAMI,OAAN,CAAc,UAAUgC,CAAV,EAAaC,CAAb,EAAgB;AAC7B,WAAMC,OAAOtC,MAAMqC,CAAN,CAAb;AACA,WAAME,OAAOF,IAAIrC,MAAMS,MAAV,GAAmBT,MAAMqC,IAAI,CAAV,CAAnB,GAAkC1C,UAAUgC,KAAzD;AACA,WAAIM,MAAMK,IAAN,IAAcL,MAAMM,IAAxB,EAA8B;AAC7BJ,eAAQF,MAAMK,IAAN,GAAa,CAACC,OAAOD,IAAR,IAAgB,CAA9B,GAAmCA,IAAnC,GAA0CC,IAAjD;AACA;AACD,OAND;AAOA1C,cAAQC,GAAR,CAAY,UAAUqC,IAAtB;AACAzC,YAAMgB,KAAN,CAAYC,IAAZ,GAAmBwB,OAAOvB,KAAKC,KAAL,CAAWI,SAASU,KAAT,GAAiB,CAA5B,CAAP,GAAwC,IAA3D;AACA;AACD;AACD;AACDnC,YAASsB,gBAAT,CAA0B,UAA1B,EAAsCgB,SAAtC,EAAiD,KAAjD;AACAtC,YAASwC,mBAAT,CAA6B,UAA7B,EAAyCF,SAAzC;AACA,GA/CD,EA+CG,EAACU,SAAS,KAAV,EA/CH;AAgDA;AACDlD,c","file":"0.4be2d546605f97f5ff77.hot-update.js","sourcesContent":["function moveSlider() {\n\tconst slider = document.getElementsByClassName('slider')[0];\n\tconst thumb = document.getElementsByClassName('slider__thumb')[0];\n\tconst sliderBox = slider.getBoundingClientRect();\n\tconsole.log(sliderBox);\n\tconst sliderElements = document.getElementsByClassName('slider__item');\n\tconst steps = [];\n\tlet prev = 0;\n\tArray.prototype.forEach.call(sliderElements, function (el) {\n\t\tsteps.push(prev);\n\t\tprev += el.offsetWidth;\n\t});\n\tsteps[steps.length - 1] = slider.offsetWidth;\n\tconsole.log(steps);\n\tthumb.style.left = steps[1] - Math.floor(thumb.offsetWidth / 2) + 'px';\n\t/* function clearSelection() {\n\t\tif (window.getSelection) {\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t}\n\t\telse {\n\t\t\tdocument.selection.empty();\n\t\t}\n\t}\n\tthumb.addEventListener('touchstart', function (eventDown) {\n\t\tconst thumbBox = thumb.getBoundingClientRect();\n\t\tconsole.log(thumbBox);\n\t\tconsole.log(eventDown);\n\t\tconst deltaX = eventDown.targetTouches[0].clientX - thumbBox.left;\n\t\tconst left = thumb.style.left;\n\t\tthumb.style.left = left + 15 + 'px';\n\t\tconst prevOnMouseMove = document.onmousemove;\n\t\tconst prevOnMouseUp = document.onmouseup;\n\t\tdocument.addEventListener('touchmove', function (eventMove) {\n\t\t\tif (eventMove.targetTouches[0].pageX - deltaX < sliderBox.left - thumbBox.width / 2) {\n\t\t\t\tthumb.style.left = 0 - Math.floor(thumbBox.width / 2) + 'px';\n\t\t\t}\n\t\t\telse if (eventMove.pageX + thumbBox.width / 2 - deltaX > sliderBox.right) {\n\t\t\t\tthumb.style.left = sliderBox.width - Math.ceil(thumbBox.width / 2) + 'px';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthumb.style.left = eventMove.pageX - sliderBox.left - deltaX + 'px';\n\t\t\t}\n\t\t}, false);\n\t\tdocument.addEventListener('touchend', function (eventUp) {\n\t\t\tclearSelection();\n\t\t\tconsole.log(eventUp);\n\t\t\tconst pos = eventUp.changedTouches[0].pageX - sliderBox.left;\n\t\t\tconsole.log('pos ' + pos);\n\t\t\tconsole.log('left ' + sliderBox.left);\n\t\t\tif (pos < 0) {\n\t\t\t\tthumb.style.left = 0 - Math.floor(thumbBox.width / 2) + 'px';\n\t\t\t}\n\t\t\telse if (pos > sliderBox.width) {\n\t\t\t\tthumb.style.left = sliderBox.width - Math.ceil(thumbBox.width / 2) + 'px';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet stop = 0;\n\t\t\t\tsteps.forEach(function (_, i) {\n\t\t\t\t\tconst curr = steps[i];\n\t\t\t\t\tconst next = i < steps.length ? steps[i + 1] : sliderBox.width;\n\t\t\t\t\tif (pos > curr && pos < next) {\n\t\t\t\t\t\tstop = (pos - curr < (next - curr) / 2) ? curr : next;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconsole.log('stop ' + stop);\n\t\t\t\tthumb.style.left = stop - Math.floor(thumbBox.width / 2) + 'px';\n\t\t\t}\n\t\t\tdocument.onmousemove = prevOnMouseMove;\n\t\t\tdocument.onmouseup = prevOnMouseUp;\n\t\t}, false);\n\t}, false); */\n\tthumb.addEventListener('touchstart', function (eventDown) {\n\t\teventDown.preventDefault();\n\t\tconst thumbBox = thumb.getBoundingClientRect();\n\t\tconst deltaX = eventDown.targetTouches[0].clientX - thumbBox.left;\n\t\tfunction moveThumb(eventMove) {\n\t\t\tif (eventMove.target.className === 'slider__thumb') {\n\t\t\t\tconst targetX = eventMove.targetTouches[0].pageX;\n\t\t\t\tif (targetX - deltaX < sliderBox.left - thumbBox.width / 2) {\n\t\t\t\t\tthumb.style.left = 0 - Math.floor(thumbBox.width / 2) + 'px';\n\t\t\t\t}\n\t\t\t\telse if (targetX + thumbBox.width / 2 - deltaX > sliderBox.right) {\n\t\t\t\t\tthumb.style.left = sliderBox.width - Math.ceil(thumbBox.width / 2) + 'px';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthumb.style.left = targetX - sliderBox.left - deltaX + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdocument.addEventListener('touchmove', moveThumb, false);\n\t\tfunction stopThumb(eventUp) {\n\t\t\tif (eventUp.target.className === 'slider__thumb') {\n\t\t\t\tdocument.removeEventListener('touchmove', moveThumb);\n\t\t\t\tconsole.log(eventUp);\n\t\t\t\tconst pos = eventUp.changedTouches[0].pageX - sliderBox.left;\n\t\t\t\tconsole.log('pos ' + pos);\n\t\t\t\tif (pos < 0) {\n\t\t\t\t\tthumb.style.left = 0 - Math.floor(thumbBox.width / 2) + 'px';\n\t\t\t\t}\n\t\t\t\telse if (pos > sliderBox.width) {\n\t\t\t\t\tthumb.style.left = sliderBox.width - Math.ceil(thumbBox.width / 2) + 'px';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet stop = 0;\n\t\t\t\t\tsteps.forEach(function (_, i) {\n\t\t\t\t\t\tconst curr = steps[i];\n\t\t\t\t\t\tconst next = i < steps.length ? steps[i + 1] : sliderBox.width;\n\t\t\t\t\t\tif (pos > curr && pos < next) {\n\t\t\t\t\t\t\tstop = (pos - curr < (next - curr) / 2) ? curr : next;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log('stop ' + stop);\n\t\t\t\t\tthumb.style.left = stop - Math.floor(thumbBox.width / 2) + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdocument.addEventListener('touchend', stopThumb, false);\n\t\tdocument.removeEventListener('touchend', stopThumb);\n\t}, {passive: false});\n}\nmoveSlider();\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/slider/slider.js"],"sourceRoot":""}