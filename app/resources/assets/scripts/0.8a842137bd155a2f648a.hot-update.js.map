{"version":3,"sources":["webpack:///./app/blocks/slider/slider.js?3294"],"names":["slider","document","getElementsByClassName","thumb","slider_elements","steps","prev","Array","prototype","forEach","call","el","push","offsetWidth","length","clearSelection","window","getSelection","removeAllRanges","selection","empty","onmousedown","e","slider_box","getBoundingClientRect","thumb_box","deltaX","pageX","left","prev_onmousemove","onmousemove","prev_onmouseup","onmouseup","width","style","Math","floor","right","ceil","pos","stop","_","i","curr","next","console","log"],"mappings":"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","file":"0.8a842137bd155a2f648a.hot-update.js","sourcesContent":["export function slider() {\n  var slider = document.getElementsByClassName(\"slider\")[0];\n  var thumb = document.getElementsByClassName(\"slider__thumb\")[0];\n  var slider_elements = document.getElementsByClassName(\"slider__item\");\n  var steps = [];\n  var prev = 0;\n  Array.prototype.forEach.call(slider_elements, function(el) {\n    steps.push(prev);\n    prev += el.offsetWidth;\n  });\n  steps[steps.length - 1] = slider.offsetWidth;\n  function clearSelection() {\n    if (window.getSelection) {\n      window.getSelection().removeAllRanges();\n    } else {\n      document.selection.empty();\n    }\n  }\n  thumb.onmousedown = function(e) {\n    var slider_box = slider.getBoundingClientRect();\n    var thumb_box = thumb.getBoundingClientRect();\n    var deltaX = e.pageX - thumb_box.left;\n    var prev_onmousemove = document.onmousemove;\n    var prev_onmouseup = document.onmouseup;\n    document.onmousemove = function(e) {\n      if (e.pageX - deltaX < slider_box.left - thumb_box.width / 2) {\n        thumb.style.left = 0 - Math.floor(thumb_box.width / 2) + \"px\";\n      }\n      else if (e.pageX + thumb_box.width / 2 - deltaX > slider_box.right) {\n        thumb.style.left = slider_box.width - Math.ceil(thumb_box.width / 2) + \"px\";\n      }\n      else {\n        thumb.style.left = e.pageX - slider_box.left - deltaX + \"px\";\n      }\n    }\n    document.onmouseup = function(e) {\n      /*if (!window.getSelection) {\n        document.selection.empty();\n      }*/\n      var pos = e.pageX - slider_box.left;\n      if (pos < 0) {\n        thumb.style.left = 0 - Math.floor(thumb_box.width / 2) + \"px\";\n      }\n      else if (pos > slider_box.width) {\n        thumb.style.left = slider_box.width - Math.ceil(thumb_box.width / 2) + \"px\";\n      }\n      else {\n        var stop = 0;\n        steps.forEach(function(_, i) {\n          var curr = steps[i];\n          var next = i < steps.length ? steps[i + 1] : slider_box.width;\n          if (pos > curr && pos < next) {\n            stop = (pos - curr < (next - curr) / 2)\n                        ? curr : next;\n          console.log(curr, next, stop);\n          }\n        });\n        thumb.style.left = stop - thumb_box.width / 2 + \"px\";\n      }\n      document.onmousemove = prev_onmousemove;\n      document.onmouseup = prev_onmouseup;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/slider/slider.js"],"sourceRoot":""}